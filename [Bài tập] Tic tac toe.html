<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Caro Game Sinple</h1>
<p id="Tictactoegame"> </p>
<input type='button' value='Change Value' onclick='changeValue()'>
<script>
    let b = document.getElementById("Tictactoegame");
    let board = []
    let data =''
    for(let i = 0;i<3 ; i++){
        board[i] = ['.' , '.' , '.' ]
    }
    for(let i = 0;i<3 ; i++) {
        data += '<br>'
        for (let j = 0 ; j <3;j++){
            data += board[i][j] + '&nbsp&nbsp;';
        }
    }
    b.innerHTML = data

    let  A=true
    function nhapX() {
        let positionX = prompt("nhap toa do X ben X: ");
        let positionY = prompt("nhap toa do Y ben X: ");
        data = "";
        if (board[positionX][positionY] === '.' ) {
            board[positionX][positionY] = "X";
            for (let i = 0; i < 3; i++) {
                data += "<br/>";
                for (let j = 0; j < 3; j++) {
                    data += board[i][j] + "&nbsp;&nbsp;&nbsp;&nbsp;";
                }
            }
            A=false
        } else {
           alert('Ban da nhap vao o da nhap')
           nhapX();
        }
        b.innerHTML = "<hr/>" + data;
    }


    function nhapO() {
        let positionX = prompt("nhap toa do X ben O: ");
        let positionY = prompt("nhap toa do Y ben O: ");
        data = "";
        if (board[positionX][positionY] === '.' ) {
            board[positionX][positionY] = "O";
            for (let i = 0; i < 3; i++) {
                data += "<br/>";
                for (let j = 0; j < 3; j++) {
                    data += board[i][j] + "&nbsp;&nbsp;&nbsp;&nbsp;";
                }
            }
            A = true
        } else {
            alert('Ban da nhap vao o da nhap');
            nhapO();
        }
        b.innerHTML = "<hr/>" + data;
    }


    function changeValue() {
        if (A) {
            nhapX()
        } else {
            nhapO()
        }


        if (board[0][0] === board[1][1] && board[1][1] === board[2][2] && board[1][1] === 'X') {
            alert(' X win')
        }
        if (board[0][2] === board[1][1] && board[1][1] === board[2][0] && board[1][1] === 'X') {
            alert(' X win')
        }
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j <3; j++) {
                if (board[i][j] === board[i][j-1] && board[i][j] === board[i][j+1] && board[i][j] === 'X') {
                    alert('X win')
                }
            }
        }
        for (let j = 0; j < 3; j++) {
                if (board[0][j] === board[1][j] && board[0][j] === board[2][j] && board[0][j] === 'X') {
                    alert('X win')
            }
        }


        if (board[0][0] === board[1][1] && board[1][1] === board[2][2] && board[1][1] === 'O') {
            alert(' O win')
        }
        if (board[0][2] === board[1][1] && board[1][1] === board[2][0] && board[1][1] === 'O') {
            alert(' O win')
        }
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j <3; j++) {
                if (board[i][j] === board[i][j-1] && board[i][j] === board[i][j+1] && board[i][j] === 'O') {
                    alert('O win')
                }
            }
        }
        for (let j = 0; j < 3; j++) {
                if (board[0][j] === board[1][j] && board[0][j] === board[2][j] && board[0][j] === 'O') {
                    alert('O win')
                }
            }
    }

</script>
</body>
</html>